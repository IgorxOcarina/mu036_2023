#N canvas 611 145 400 486 12;
#N canvas 0 23 537 605 interface 0;
#X obj 151 64 tgl 25 0 mic_on_off_output mic_on_off_input mic 0 -10 2 18 #ff0400 #ffffff #000000 0 1;
#N canvas 8 23 792 514 vu_interface 0;
#X obj 60 30 catch~ mic_input;
#X obj 60 54 env~;
#X obj 60 78 - 100;
#X obj 61 312 vu 20 160 empty mic_input -5 -22 2 16 #404040 #000000 1 0;
#X obj 130 84 env~;
#X obj 130 108 - 100;
#X obj 131 312 vu 20 160 empty modulation -5 -22 2 16 #404040 #000000 1 0;
#X obj 210 114 env~;
#X obj 210 138 - 100;
#X obj 211 312 vu 20 160 empty buffer_output -5 -22 2 16 #404040 #000000 1 0;
#X obj 130 60 catch~ modulation;
#X obj 210 90 catch~ buffer_output;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 4 0;
#X connect 11 0 7 0;
#X coords 0 -1 1 1 250 260 1 50 220;
#X restore 30 224 pd vu_interface;
#X obj 218 65 hsl 162 19 0 102 0 0 empty mic_gain_input mic_gain -2 -10 2 14 #faff00 #000000 #000000 0 1;
#X floatatom 215 89 5 0 0 1 mic_gain_dB - mic_gain_output 0;
#N canvas 569 46 840 763 DSP 0;
#X obj 16 19 adc~;
#X obj 75 221 pack f 100;
#X obj 75 245 line~;
#X obj 16 264 *~;
#X obj 54 300 throw~ modulation;
#X obj 16 399 delwrite~ buffer 90000;
#X obj 16 478 delread~ buffer 90000;
#X obj 115 733 throw~ buffer_output;
#X obj 16 108 *~;
#X obj 62 65 pack f 10;
#X obj 62 89 line~;
#X obj 104 126 throw~ mic_input;
#X obj 62 43 r mic_on_off_output;
#X obj 16 762 dac~;
#X text 265 735 envio para output e VU;
#X text 180 401 escrita de buffer;
#X text 171 479 leitura de buffer depois de 90 segundos (1:30 minutos);
#X text 183 301 envio para VU modulation;
#X text 208 255 envio para mic_input VU;
#X text 201 44 toggle \, ligar ou desligar microfone;
#X text 242 158 slider \, ganho de microfone;
#X obj 16 627 *~;
#X obj 182 510 r output_gain_output;
#X obj 182 574 pack f 10;
#X obj 182 598 line~;
#X text 330 510 slider \, volume de output;
#X obj 16 671 clip~ -1.7 1.7;
#X text 52 763 saída de sistema;
#X text 123 670 clipagem (de segurança) por volta de +5 dB como valor inicial;
#X obj 348 598 expr $f1*(-1) \; $f1;
#X text 538 535 alteração de valor de clipagem;
#X obj 348 534 r nivel_de_clipagem_output;
#X obj 623 674 r nivel_de_clipagem_GUI_output;
#X obj 623 698 - 100;
#X obj 623 722 s nivel_de_clipagem_GUI_equation_output;
#X obj 348 576 dbtorms;
#X text 549 34 startup_values;
#X obj 549 56 loadbang;
#X text 664 697 conversão de valores de GUI para dB;
#X obj 729 54 r default_bang;
#X text 733 37 re iniciar sistema;
#X obj 128 338 r clear_buffer;
#X msg 128 362 clear;
#X obj 16 455 r buffer_size_output;
#X msg 549 80 \; mic_on_off_input 0 \; mic_gain_input 0 \; output_gain_input 0 \; clear_buffer 1 \; buffer_size_input 90000 \; nivel_de_clipagem_input 105 \;;
#X obj 348 555 + 100;
#X obj 182 542 dbtorms;
#X obj 75 190 dbtorms;
#X text 47 19 entrada de microfone;
#X obj 75 158 receive mic_gain_output;
#X floatatom 151 183 5 0 0 1 dB - - 0;
#X floatatom 157 216 5 0 0 1 rms - - 0;
#X obj 550 225 r DSP_control_output;
#X msg 550 249 \; pd dsp \$1;
#X text 299 771 signal modulado_sem_atraso;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 3 0 5 0;
#X connect 6 0 21 0;
#X connect 8 0 3 0;
#X connect 8 0 11 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 12 0 9 0;
#X connect 21 0 26 0;
#X connect 22 0 46 0;
#X connect 23 0 24 0;
#X connect 24 0 21 1;
#X connect 26 0 7 0;
#X connect 26 0 13 0;
#X connect 26 0 13 1;
#X connect 29 0 26 1;
#X connect 29 1 26 2;
#X connect 31 0 45 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 35 0 29 0;
#X connect 37 0 44 0;
#X connect 39 0 44 0;
#X connect 41 0 42 0;
#X connect 42 0 5 0;
#X connect 43 0 6 0;
#X connect 45 0 35 0;
#X connect 46 0 23 0;
#X connect 47 0 1 0;
#X connect 47 0 51 0;
#X connect 49 0 47 0;
#X connect 49 0 50 0;
#X connect 52 0 53 0;
#X restore 22 498 pd DSP;
#X obj 224 176 hsl 162 19 0 100 0 0 empty output_gain_input output -2 -10 2 14 #324fff #000000 #000000 0 1;
#X floatatom 221 200 5 0 0 1 output_dB - output_gain_output 0;
#X obj 288 320 vsl 22 150 40 108 0 0 nivel_de_clipagem_GUI_output nivel_de_clipagem_input nivel\ de\ clipagem -1 -21 2 16 #9c00ff #000000 #000000 0 1;
#X text 730 164 y;
#X floatatom 322 394 5 -60 8 1 dB nivel_de_clipagem_GUI_equation_output nivel_de_clipagem_output 16;
#X obj 26 62 tgl 35 0 DSP_control_output DSP_control_input DSP 37 18 2 16 #ffffff #000000 #000000 0 1;
#X obj 338 456 bng 19 250 50 0 default_bang empty default 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 29 187 bng 30 250 50 0 clear_buffer empty clear_buffer 33 15 2 18 #fcfcfc #000000 #000000;
#X obj 34 136 hsl 162 19 1000 90000 0 0 empty buffer_size_input buffer_size -2 -10 2 14 #00faff #000000 #000000 0 1;
#X floatatom 31 160 8 0 0 1 buffer_size_ms - buffer_size_output 0;
#X connect 2 0 3 0;
#X connect 5 0 6 0;
#X connect 13 0 14 0;
#X coords 0 -1 1 1 380 452 2 20 40;
#X restore 6 4 pd interface;
#X coords 0 0 1 1 85 60 0;
